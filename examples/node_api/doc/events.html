<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>events.EventEmitter : nodejs API</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="assets_/css/shCore.css">
        <link rel="stylesheet" href="assets_/css/shThemeDefault.css">
        <link rel="stylesheet" href="assets_/css/main.css">
    </head>
    <body data-root-path="">
        <div id="wrapper">
            <div id="content">

<ul id="topnav">
    <li><a href="index.html">Index</a></li>
    <li><a href="#toc">TOC</a></li>
</ul>
<h2>Events</h2>

<p>Many objects in Node emit events: a <code>net.Server</code> emits an event each time
a peer connects to it, a <code>fs.readStream</code> emits an event when the file is
opened. All objects which emit events are instances of <code>events.EventEmitter</code>.
You can access this module by doing: <code>require("events");</code></p>

<p>Typically, event names are represented by a camel-cased string, however,
there aren't any strict restrictions on that, as any string will be accepted.</p>

<p>Functions can then be attached to objects, to be executed when an event
is emitted. These functions are called <em>listeners</em>.</p>

<h3>Table of Contents <a href="#toc" name="toc" class="deep-link">#</a></h3>

<ul>
<li><a href="#events.EventEmitter">events.EventEmitter</a></li>
</ul>

<h3>events.EventEmitter <a href="#events.EventEmitter" id="events.EventEmitter" class="deep-link">#</a></h3>

<p>To access the EventEmitter class, <code>require('events').EventEmitter</code>.</p>

<p>When an <code>EventEmitter</code> instance experiences an error, the typical action is
to emit an <code>'error'</code> event.  Error events are treated as a special case in node.
If there is no listener for it, then the default action is to print a stack
trace and exit the program.</p>

<p>All EventEmitters emit the event <code>'newListener'</code> when new listeners are
added.</p>

<h4>emitter.addListener(event, listener)</h4>

<h4>emitter.on(event, listener)</h4>

<p>Adds a listener to the end of the listeners array for the specified event.</p>

<pre><code>server.on('connection', function (stream) {
  console.log('someone connected!');
});
</code></pre>

<h4>emitter.once(event, listener)</h4>

<p>Adds a <strong>one time</strong> listener for the event. This listener is
invoked only the next time the event is fired, after which
it is removed.</p>

<pre><code>server.once('connection', function (stream) {
  console.log('Ah, we have our first user!');
});
</code></pre>

<h4>emitter.removeListener(event, listener)</h4>

<p>Remove a listener from the listener array for the specified event.
<strong>Caution</strong>: changes array indices in the listener array behind the listener.</p>

<pre><code>var callback = function(stream) {
  console.log('someone connected!');
};
server.on('connection', callback);
// ...
server.removeListener('connection', callback);
</code></pre>

<h4>emitter.removeAllListeners([event])</h4>

<p>Removes all listeners, or those of the specified event.</p>

<h4>emitter.setMaxListeners(n)</h4>

<p>By default EventEmitters will print a warning if more than 10 listeners are
added for a particular event. This is a useful default which helps finding memory leaks.
Obviously not all Emitters should be limited to 10. This function allows
that to be increased. Set to zero for unlimited.</p>

<h4>emitter.listeners(event)</h4>

<p>Returns an array of listeners for the specified event. This array can be
manipulated, e.g. to remove listeners.</p>

<pre><code>server.on('connection', function (stream) {
  console.log('someone connected!');
});
console.log(util.inspect(server.listeners('connection'))); // [ [Function] ]
</code></pre>

<h4>emitter.emit(event, [arg1], [arg2], [...])</h4>

<p>Execute each of the listeners in order with the supplied arguments.</p>

<h4>Event: 'newListener'</h4>

<p><code>function (event, listener) { }</code></p>

<p>This event is emitted any time someone adds a new listener.</p>
                <hr />
                <small>Documentation generated by <a href="https://github.com/millermedeiros/mdoc">mdoc</a>.</small>
            </div>
        </div>
        <script src="assets_/js/lib/jquery.js"></script>
        <script src="assets_/js/lib/syntax-highlighter/shCore.js"></script>
        <script src="assets_/js/lib/syntax-highlighter/shAutoloader.js"></script>
        <script src="assets_/js/main.js"></script>
    </body>
</html>

